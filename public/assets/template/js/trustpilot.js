
// http://widget.trustpilot.com/bootstrap/v5/tp.widget.bootstrap.min.js

(function(){try{(function(){function b(p,r,q){if(p.addEventListener){p.addEventListener(r,q);}else{p.attachEvent("on"+r,function(s){s=s||window.event;s.preventDefault=s.preventDefault||function(){s.returnValue=false;};s.stopPropagation=s.stopPropagation||function(){s.cancelBubble=true;};q.call(self,s);});}}function c(q){var p;if(Object.create){return Object.create(q);}else{var p=function(){};if(arguments.length>1){throw Error("Second argument not supported");}if(typeof q!="object"){throw TypeError("Argument must be an object");}p.prototype=q;return new p();}}var k="https://widget.trustpilot.com/widgets",m="index.html",l,o,n="https://widget.trustpilot.com";function d(){var p;o=h();if(!o||o.length<1){return undefined;}l=o.length;for(p=0;p<l;p++){new j(o[p]);}}function j(p){this.id=e();this.container=p;this.options=c(this.defaultOptions);this.queryString=this.createQueryStringFromDataSet();this.iframes={};this.applyWidget();}j.prototype={defaultOptions:{frameBorder:0,allowTransparency:"true",scrolling:"no",styles:{borderStyle:"none",backgroundColor:"transparent",display:"block",overflow:"hidden",height:0,width:0}},applyWidget:function(){var r=this,s,p,q;if(!this.container){throw"Unable to locate a widget container";}this.container.style.position="relative";s=this.container.getAttribute("data-template-id");p=this.container.getAttribute("data-businessunit-id");q=this.container.getAttribute("data-locale");if(!s||!p||!q){throw"Missing template id, business unit id or locale";}this.options.styles.height=this.getHeightAttribute();this.options.styles.width=this.getWidthAttribute();this.options.show=true;this.baseUrl=k+"/"+s+"/"+p+"/"+q+"/";this.options.source=m;this.createIFrame("main",this.options);b(window,"message",function(t){if(t.origin!==n||t.data.widgetId!==r.id){return;}r.widgetIframeMessageHandler(t);},false);},getWidthAttribute:function(){var p=this.container.getAttribute("data-style-width").toLowerCase();return f(p);},getHeightAttribute:function(){var p=this.container.getAttribute("data-style-height").toLowerCase();return f(p);},widgetIframeMessageHandler:function(p){switch(p.data.command){case"createIFrame":this.createIFrame(p.data.name,p.data);break;case"setStyle":this.setStyle(p.data.name,p.data.style);break;case"loaded":this.sendLoadedToMainFrame();break;case"message":this.sendMessage(this.iframes[p.data.name],p.data);break;}},getElementDataSet:function(){var q=0,p={},r,s;if(typeof this.container.dataset==="undefined"){if(!this.container.attributes){return undefined;}for(q;q<this.container.attributes.length;q++){r=this.container.attributes[q];s=this.toCamelCase(r.name.replace(/^data\-/,""));p[s]=r.value;}return p;}else{return this.container.dataset;}},createQueryStringFromDataSet:function(){var q=this.getElementDataSet();var r="?";var p;for(p in q){r+=p+"="+encodeURIComponent(q[p])+"&";}return r.replace(/(\&|\?)+$/,"");},createIFrame:function(r,p){var q=i(g(p,this.defaultOptions,this.baseUrl,this.queryString)),s=this;this.iframes[r]=q;this.container.appendChild(q);b(q,"load",function(){s.setWidgetId(q);});},setStyle:function(q,r){var p=this.iframes[q];if(r.display!==undefined){p.style.display=r.display;}},sendLoadedToMainFrame:function(){this.sendMessage(this.iframes.main,"loaded");},sendMessage:function(p,q){p.contentWindow.postMessage(q,n);},setWidgetId:function(p){this.sendMessage(p,{command:"setId",widgetId:this.id});},toCamelCase:function(p){return p.replace(/(\-[a-z])/g,function(q){return q.toUpperCase().replace("-","");});}};function g(q,r,p,t){var s=r?c(r):{};s.position=q.styles.position||"";s.zindex=q.styles.zindex||"";s.margin=q.styles.margin||"";s.top=q.styles.top||"";s.bottom=q.styles.bottom||"";s.left=q.styles.left||"";s.right=q.styles.right||"";s.height=q.styles.height||"";s.width=q.styles.width||r.styles.width||"";s.display=q.show?"block":"none";s.src=p+q.source+t;s.borderStyle=r.styles.borderStyle;s.overflow=r.styles.overflow;return s;}function i(q){var p=document.createElement("iframe");p.style.position=q.position;p.style.zIndex=q.zindex;p.style.margin=q.margin;p.style.top=q.top;p.style.bottom=q.bottom;p.style.left=q.left;p.style.right=q.right;p.style.height=q.height;p.style.width=q.width;p.style.borderStyle=q.borderStyle;p.style.backgroundColor=q.backgroundColor;p.style.display=q.display;p.style.overflow=q.overflow;p.frameBorder=q.frameBorder;p.scrolling=q.scrolling;p.allowTransparency=q.allowTransparency;p.src=q.src;return p;}function f(p){var q=/(px|\%)/i;var r="";if(p&&p.length>0){if(q.test(p)){r=p;}else{r=p+"px";}}return r;}function h(){var u,q,t,p,r,s;if(document.getElementsByClassName){u=document.getElementsByClassName("trustpilot-widget");}else{if(document.querySelectorAll){u=document.querySelectorAll(".trustpilot-widget");}else{q=[];t=new RegExp("(^| )trustpilot-widget( |$)");p=document.body.getElementsByTagName("*");for(r=0,s=p.length;r<s;r++){if(t.test(p[r].className)){q.push(p[r]);}}u=q;}}return u;}function e(){var p=Math.random();if(e[p]){return e();}e[p]=true;return p;}(window.require=window.require||function(){var p=5;if(document.readyState!=="complete"){setTimeout(function(){window.require();},p);}else{d();}})();})();}catch(a){(function(){function c(e){console.error("Error on bootstrap:"+e);var g="https://widget.trustpilot.com/feedback/report-error";var f="error="+encodeURIComponent(e)+"&uri="+encodeURIComponent(document.URL);var d=document.createElement("img");d.src=g+"?"+f;}try{if(typeof(b)==="object"){c(b.message);}else{c(b);}}catch(b){console.error("Error on error reporting method:"+b);}})();}}());